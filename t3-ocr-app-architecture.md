# åœ°ç©æ¸¬é‡å›³OCRã‚¢ãƒ—ãƒª - T3 Stackæ§‹æˆè¨­è¨ˆ

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰   â”‚â”€â”€â”€â”€â”‚   ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰     â”‚â”€â”€â”€â”€â”‚   ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹    â”‚
â”‚   Next.js 15     â”‚    â”‚   tRPC + Next.js  â”‚    â”‚   PostgreSQL    â”‚
â”‚   Tailwind CSS   â”‚    â”‚   Prisma          â”‚    â”‚   (Docker)      â”‚
â”‚   React Hook Formâ”‚    â”‚   Zod validation  â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   OCR Services   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚   (æœªå®Ÿè£…)        â”‚
                        â”‚   Azure CV API   â”‚
                        â”‚   Google Vision  â”‚
                        â”‚   AWS Textract   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
chiseki-ocr-app/
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma           # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒï¼ˆåŸºæœ¬Postãƒ¢ãƒ‡ãƒ«ã®ã¿ï¼‰
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ _components/
â”‚   â”‚   â”‚   â””â”€â”€ post.tsx        # åŸºæœ¬çš„ãªPostã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ trpc/
â”‚   â”‚   â”‚       â””â”€â”€ [trpc]/
â”‚   â”‚   â”‚           â””â”€â”€ route.ts # tRPC handler
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â””â”€â”€ page.tsx            # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ post.ts     # åŸºæœ¬çš„ãªPost CRUD
â”‚   â”‚   â”‚   â””â”€â”€ root.ts         # tRPC root
â”‚   â”‚   â””â”€â”€ db.ts               # Prisma client
â”‚   â”œâ”€â”€ trpc/
â”‚   â”‚   â”œâ”€â”€ query-client.ts     # tRPC query client
â”‚   â”‚   â”œâ”€â”€ react.tsx           # tRPC React provider
â”‚   â”‚   â””â”€â”€ server.ts           # tRPC server
â”‚   â”œâ”€â”€ env.js                  # ç’°å¢ƒå¤‰æ•°è¨­å®š
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ globals.css         # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ start-database.sh           # PostgreSQLèµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ package.json
```

## ğŸ—„ï¸ ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ (Prisma Schema)

```prisma
// prisma/schema.prisma
generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Post {
    id        Int      @id @default(autoincrement())
    name      String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([name])
}
```

## ğŸš§ å®Ÿè£…çŠ¶æ³

### âœ… å®Œäº†æ¸ˆã¿
- [x] T3 StackåŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] Next.js 15 + App Router
- [x] tRPCè¨­å®š
- [x] Prisma + PostgreSQL
- [x] åŸºæœ¬çš„ãªPost CRUD
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š

### ğŸ”„ é€²è¡Œä¸­
- [ ] ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ.envãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼‰

### ğŸ“‹ æœªå®Ÿè£…
- [ ] åœ°ç©æ¸¬é‡å›³å°‚ç”¨ã‚¹ã‚­ãƒ¼ãƒ
- [ ] OCRæ©Ÿèƒ½
- [ ] ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- [ ] æ¤œç´¢æ©Ÿèƒ½
- [ ] UI/UXæ”¹å–„

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### 1. ç’°å¢ƒå¤‰æ•°è¨­å®š
```bash
# .env ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
DATABASE_URL="postgresql://postgres:password@localhost:5432/postgres"
NODE_ENV="development"
```

### 2. åœ°ç©æ¸¬é‡å›³ã‚¹ã‚­ãƒ¼ãƒå®Ÿè£…
```prisma
// æ‹¡å¼µäºˆå®šã®ã‚¹ã‚­ãƒ¼ãƒ
model SurveyMap {
  id                String   @id @default(cuid())
  landNumber        String   // åœ°ç•ª
  location          String   // æ‰€åœ¨åœ°
  area              Decimal  // åœ°ç©ï¼ˆé¢ç©ï¼‰
  // ... ãã®ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
}
```

### 3. OCRæ©Ÿèƒ½å®Ÿè£…
- Azure Computer Vision APIçµ±åˆ
- ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- ãƒ‡ãƒ¼ã‚¿æŠ½å‡ºãƒ»è§£æ

### 4. UI/UXæ”¹å–„
- shadcn/uiå°å…¥
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

## ğŸ’¡ ç¾åœ¨ã®èª²é¡Œã¨è§£æ±ºç­–

### èª²é¡Œ1: ç’°å¢ƒå¤‰æ•°æœªè¨­å®š
**è§£æ±ºç­–**: `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€`DATABASE_URL` ã‚’è¨­å®š

### èª²é¡Œ2: åŸºæœ¬çš„ãªã‚¹ã‚­ãƒ¼ãƒã®ã¿
**è§£æ±ºç­–**: åœ°ç©æ¸¬é‡å›³å°‚ç”¨ã®ã‚¹ã‚­ãƒ¼ãƒã«æ‹¡å¼µ

### èª²é¡Œ3: OCRæ©Ÿèƒ½æœªå®Ÿè£…
**è§£æ±ºç­–**: æ®µéšçš„ã«OCRæ©Ÿèƒ½ã‚’å®Ÿè£…

**ç¾åœ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯åŸºæœ¬çš„ãªT3 Stackã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¦ãŠã‚Šã€åœ°ç©æ¸¬é‡å›³OCRã‚¢ãƒ—ãƒªã®åŸºç›¤ã¨ã—ã¦æ©Ÿèƒ½ã—ã¦ã„ã¾ã™ã€‚**
